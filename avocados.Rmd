---
title: "Hass Avocado Analysis"
author: "Jeremy Meguira"
date: "October 9, 2018"
output: 
  html_document: 
    fig_height: 10
    fig_width: 10
    toc: yes
    toc_float: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Hass Avocado Analysis
This dataset was pulled from:
https://www.kaggle.com/neuromusic/avocado-prices/home

It contains historical data on avocado prices and sales volume in multiple US
markets.

Some questions I want to look at in this analysis:

* How do the prices of avocados vary by region?
* What happened to avocado prices and consumption in 2017?
* How does consumption change based on organic/nonorganic avocados?

If any other interesting questions come up I will look into them as well.


```{r echo = FALSE}

library(ggplot2)
library(knitr)
library(GGally)
library(gridExtra)

```

## Load and Examine Dataset

```{r echo = FALSE, Loading_Data}

av <- read.csv('avocado.csv')

```

Variable descriptions are provided by the dataset poster:

* Date - The date of the observation
* AveragePrice - the average price of a single avocado
* type - conventional or organic
* year - the year
* Region - the city or region of the observation
* Total Volume - Total number of avocados sold
* 4046 - Total number of avocados with PLU 4046 sold / small hass avocados
* 4225 - Total number of avocados with PLU 4225 sold / large hass avocados
* 4770 - Total number of avocados with PLU 4770 sold / x-large hass avocados

## Clean

Check for duplicate rows

```{r echo = FALSE}

sum(duplicated(av))

```

Check for missing values

```{r echo = FALSE}

sum(is.na(av))

```

Looks like a pretty clean data set. No missing values or duplicated rows. Now 
let's look into the individual variables a bit

```{r echo = FALSE}

str(av)
 
```

The  year variable is redundant, as that information is already contained in the
date variable, so we can drop it.

```{r echo = FALSE}

#https://stackoverflow.com/a/4605268

drops <- c('year')
av <- av[ , !names(av) %in% drops]
str(av)


```

As we can see, date is currently of Factor type which is usually reserved for
categorical data. I will change it to a date object

```{r}

av$Date <- as.Date(av$Date)
str(av)

```

Since we know the price of the average avocado at the date of the observation
and the total # of avocados sold, we can create a new variable gross_sales to
show the income for that day at each location purely from avocado sales.

```{r}

av$gross_sales <- av$Total.Volume * av$AveragePrice 
summary(av$gross_sales)

```


## Explore


Variable distribution:

```{r}

summary(av)

```


